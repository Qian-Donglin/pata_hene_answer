- [Pythonで記述されたバージョン](#pythonで記述されたバージョン)
- [C言語で書きなおして、O3オプションでコンパイル](#c言語で書きなおしてo3オプションでコンパイル)

# Pythonで記述されたバージョン

```py3
for i in range(n): 
	for j in range(n): 
		for k in range(n): 
			C[i][j] += A[i][k] * B[k][j]
```

Pythonはインタプリンタ言語なので、コンパイラによる全体に亘っての構文最適化は行われない。ゆえに、このままでは非常に遅い。

# C言語で書きなおして、O3オプションでコンパイル

```cpp
void mul(int n, double *A, double *B, double *C){
	for(int i = 0; i < n; i++){
		for(int j = 0; j < n; j++){
			for(int k = 0; k < n; k++){
				A[i][j] += B[i][k] * C[k][j];
			}
		}
	}
}
```

これは全体に亘った構文最適化がコンパイラでよってされるからかなり早くなる。例えば、添え字の計算は毎回プラス1して、doubleのサイズ2バイトぶんをかけるのではなく、アドレスベースで毎回2バイトぶんずつ、足していくのである。

