6th editionについての解答。

解答がおかしいとかがありましたら[Sen(@nonpro3)](https://twitter.com/nonpro3)のTwitterアカウントにDMやリプライ飛ばしてください。

[大体ここにある](https://laysakura.github.io/2020/01/28/Patterson-Hennessy-5th-Excersise04/)。
だが、途中までしかないので、ない分で私が埋められるものを下に記述する。

ただし、これは最新の6th editionではないので、下に対応表と乗ってない問題の回答を載せる。

| 6th edition | old  |
| ----------- | ---- |
| 4.1         | 4.1  |
| 4.2         | なし |
| 4.3         | なし |
| 4.4         | なし |
| 4.5         | なし |

# 4.2

- RegDstのswは、書き込むレジスタも存在、書き込むデータも存在しない(メモリに書き込むので)ので、この時の書き込みレジスタが20-16bitか、15-11bitは関係ない。
- 同様に、RegDstのbeq命令も、同様にレジスタへ書き込まないし値はレジスタに入れないので、どっちでもいい。
- MemToRegはメモリからの読出しデータがレジスタに入るかどうかの制御線。そもそもメモリから読み出ししないswやbeqはどうなってもいい。

# 4.3

メモリ混合割合は

| R形式 | 非ロードI形式 | ロード | ストア | 分岐 | ジャンプ |
| ----- | ------------- | ------ | ------ | ---- | -------- |
| 24%   | 28%           | 25%    | 10%    | 11%  | 2%       |

各部品の使用状況は

|              | R形式 | 非ロードI形式 | ロード | ストア | 分岐 | ジャンプ | 合計     |
| ------------ | ----- | ------------- | ------ | ------ | ---- | -------- | -------- |
|              | 24%   | 28%           | 25%    | 10%    | 11%  | 2%       | 100%     |
| データメモリ | ×     | ×             | 〇     | 〇     | ×    | ×        | **35%**  |
| 命令メモリ   | 〇    | 〇            | 〇     | 〇     | 〇   | 〇       | **100%** |
| 符号拡張     |       |               |        |        | 〇   |          | **11%**  |

# 4.4

## 4.4.1

MemToRegはメモリからレジスタへデータを書き込む制御線。なので、lwが使用できなくなる。実質的にALUが無効化されるため致命的な問題である。

## 4.4.2

ALUsrcは0ならばrtのレジスタの値を、1ならば16bitの即値をALUに入れる。なので、即値含む命令が使用できなくなる。

